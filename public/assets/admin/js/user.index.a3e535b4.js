(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user.index"],{7679:function(t,e,n){"use strict";n("c79c");var a=n("e4d3"),s=n("7560"),i=n("80d2"),o=n("afdd"),r=n("326d"),c=n("58df");e["a"]=Object(c["a"])(a["a"],s["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(o["a"],{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){var n=t.$refs.content.querySelector("input");e.keyCode===i["y"].esc&&t.cancel(),e.keyCode===i["y"].enter&&n&&(t.save(n.value),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(r["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var a=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:a},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(t,e,n){},dab6:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.options,loading:t.loading,"loading-text":"Loading... Please wait","server-items-length":t.totalItems},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("Користувачі")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",to:"/user/create"}},[t._v("Додати ")])],1)]},proxy:!0},{key:"item.name",fn:function(e){return[n("v-edit-dialog",{attrs:{"return-value":e.item.name},on:{"update:returnValue":function(n){return t.$set(e.item,"name",n)},"update:return-value":function(n){return t.$set(e.item,"name",n)},save:t.save,cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit","single-line":"",counter:""},model:{value:e.item.name,callback:function(n){t.$set(e.item,"name",n)},expression:"props.item.name"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"item.roles",fn:function(e){return t._l(e.item.roles,(function(e){return n("span",{key:e.id},[t._v(t._s(e.name)+" ")])}))}},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-btn",{staticClass:"mr-2",attrs:{icon:"",to:"/user/show?user="+a.links.self}},[n("v-icon",{attrs:{small:"",color:"blue"},on:{click:function(e){return t.action(a)}}},[t._v("mdi-eye")])],1),n("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.action(a)}}},[t._v(" mdi-delete ")])]}}])}),n("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",a,!1),[t._v("Close")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)},s=[],i=(n("d3b7"),{name:"Index",data:function(){return{loading:!1,dialog:!1,snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},pagination:{},headers:[{text:"#",align:"start",sortable:!1,value:"user_id"},{text:"Ім'я",value:"full_name"},{text:"Email",value:"email"},{text:"Status",value:"status_description"},{text:"Телефон",value:"detail.phone"},{text:"Роль",value:"roles"},{text:"Action",value:"actions"}],totalItems:0,items:[],options:{}}},watch:{options:{handler:function(){var t=this;this.getDataFromApi().then((function(e){t.items=e.items,t.totalItems=e.total}))},deep:!0}},methods:{getDataFromApi:function(){var t=this;return this.loading=!0,new Promise((function(e){var n=t.options,a=n.sortBy,s=n.sortDesc,i=n.page,o=n.itemsPerPage,r={url:t.$store.state.api.user.index,params:{page:i,limit:o,sortBy:a,sortDesc:s}};t.$store.dispatch("getApiContent",r).then((function(){var n=t.$store.state.apiLoadedData.data,a=t.$store.state.apiLoadedData.meta.total;e({items:n,total:a})})).finally((function(){t.loading=!1}))}))},action:function(){},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")}}}),o=i,r=n("2877"),c=n("6544"),l=n.n(c),u=n("8336"),d=n("8fea"),v=n("ce7e"),m=n("7679"),f=n("132d"),p=n("2db4"),h=n("2fa4"),g=n("8654"),k=n("71d9"),x=n("2a7f"),_=Object(r["a"])(o,a,s,!1,null,"2df0dd1d",null);e["default"]=_.exports;l()(_,{VBtn:u["a"],VDataTable:d["a"],VDivider:v["a"],VEditDialog:m["a"],VIcon:f["a"],VSnackbar:p["a"],VSpacer:h["a"],VTextField:g["a"],VToolbar:k["a"],VToolbarTitle:x["b"]})}}]);