(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product.index"],{5916:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.options,loading:t.loading,"loading-text":"Loading... Please wait","server-items-length":t.totalItems},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("My CRUD")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),n),[t._v("New Item ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Add Category")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"#"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Замовник"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"На суму"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Дата зміни"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Статус"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.name},on:{"update:returnValue":function(a){return t.$set(e.item,"name",a)},"update:return-value":function(a){return t.$set(e.item,"name",a)},save:t.save,cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit","single-line":"",counter:""},model:{value:e.item.name,callback:function(a){t.$set(e.item,"name",a)},expression:"props.item.name"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"item.iron",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.iron,large:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"iron",a)},"update:return-value":function(a){return t.$set(e.item,"iron",a)},save:t.save,cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.iron,callback:function(a){t.$set(e.item,"iron",a)},expression:"props.item.iron"}})]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(e.item.iron))])])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.action(n)}}},[t._v("mdi-eye")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.action(n)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.action(n)}}},[t._v(" mdi-delete ")])]}}])}),a("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",n,!1),[t._v("Close")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)},i=[],o=(a("d3b7"),{name:"Index",data:function(){return{loading:!1,dialog:!1,snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},pagination:{},headers:[{text:"#",align:"start",sortable:!1,value:"product_id"},{text:"Назва",value:"title"},{text:"Категорія",value:"category.name"},{text:"Ціна",value:"price"},{text:"К-сть (шт)",value:"quality"},{text:"Action",value:"actions"}],totalItems:0,items:[],options:{}}},watch:{options:{handler:function(){var t=this;this.getDataFromApi().then((function(e){t.items=e.items,t.totalItems=e.total}))},deep:!0}},methods:{getDataFromApi:function(){var t=this;return this.loading=!0,new Promise((function(e){var a=t.options,n=a.sortBy,i=a.sortDesc,o=a.page,s=a.itemsPerPage,r={url:t.$store.state.api.product.index,params:{page:o,limit:s,sortBy:n,sortDesc:i}};t.$store.dispatch("getApiContent",r).then((function(){var a=t.$store.state.apiLoadedData.data,n=t.$store.state.apiLoadedData.meta.total;e({items:a,total:n})})).finally((function(){t.loading=!1}))}))},action:function(){},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")}}}),s=o,r=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0af"),v=a("99d9"),m=a("62ad"),f=a("a523"),p=a("8fea"),h=a("169a"),g=a("ce7e"),k=a("7679"),x=a("132d"),b=a("0fd9"),_=a("2db4"),C=a("2fa4"),y=a("8654"),$=a("71d9"),V=a("2a7f"),w=Object(r["a"])(s,n,i,!1,null,"0758aa19",null);e["default"]=w.exports;c()(w,{VBtn:u["a"],VCard:d["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:m["a"],VContainer:f["a"],VDataTable:p["a"],VDialog:h["a"],VDivider:g["a"],VEditDialog:k["a"],VIcon:x["a"],VRow:b["a"],VSnackbar:_["a"],VSpacer:C["a"],VTextField:y["a"],VToolbar:$["a"],VToolbarTitle:V["a"]})},7679:function(t,e,a){"use strict";a("c79c");var n=a("e4d3"),i=a("7560"),o=a("80d2"),s=a("afdd"),r=a("326d"),l=a("58df");e["a"]=Object(l["a"])(n["a"],i["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(s["a"],{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){var a=t.$refs.content.querySelector("input");e.keyCode===o["w"].esc&&t.cancel(),e.keyCode===o["w"].enter&&a&&(t.save(a.value),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(r["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(a){var n=a.on;return t("div",{staticClass:"v-small-dialog__activator",on:n},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(t,e,a){}}]);