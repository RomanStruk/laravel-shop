(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["media.index"],{fa5c:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.editDialog,callback:function(a){t.editDialog=a},expression:"editDialog"}},[e("v-card",[e("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[e("v-toolbar-title",[t._v("Редагувати")]),e("v-spacer"),e("v-btn",{attrs:{icon:""}},[e("v-icon",[t._v("mdi-content-save")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(a){t.editDialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Назва",value:t.editData.name}}),e("v-text-field",{attrs:{label:"Ключові слова",value:t.editData.keywords,rules:[function(t){return!!t||"Item is required"}]}}),e("v-text-field",{attrs:{label:"Опис",value:t.editData.description,rules:[function(t){return!!t||"Item is required"}]}}),e("v-autocomplete",{attrs:{label:"Прикріпити до товару","item-text":"title","item-value":"product_id"}}),e("v-select",{attrs:{label:"Видимість",items:["Видимий","Скритий"]}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-img",{staticClass:"grey lighten-2",attrs:{src:t.editData.url,"lazy-src":t.editData.url,"aspect-ratio":"1"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1)],1)],1)],1)],1)],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.options,loading:t.loading,"loading-text":"Loading... Please wait","server-items-length":t.totalItems},on:{"update:options":function(a){t.options=a}},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:"",color:"white"}},[e("v-toolbar-title",[t._v("Зображення")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[e("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",icon:""}},"v-btn",o,!1),i),[e("v-icon",[t._v("mdi-plus-circle")])],1)]}}]),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[e("v-toolbar-title",[t._v("Додати")]),e("v-spacer"),e("v-btn",{attrs:{icon:""}},[e("v-icon",[t._v("mdi-content-save")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(a){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-card-text",[e("UploadImages",{attrs:{bindToProduct:!0}})],1)],1)],1)],1)]},proxy:!0},{key:"item.img",fn:function(a){return[e("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var o=i.on,n=i.attrs;return[e("v-card",{attrs:{height:"64",width:"90"}},[e("v-img",t._g(t._b({staticClass:"grey darken-4",attrs:{src:a.item.url,height:"64",width:"90"}},"v-img",n,!1),o))],1)]}}],null,!0)},[e("v-img",{staticClass:"grey darken-4",attrs:{src:a.item.url}})],1)]}},{key:"item.actions",fn:function(a){var i=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"teal lighten-2"},on:{click:function(a){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),e("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){return t.action(i)}}},[t._v(" mdi-delete ")])]}}])}),e("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(a){var i=a.attrs;return[e("v-btn",t._b({attrs:{text:""},on:{click:function(a){t.snack=!1}}},"v-btn",i,!1),[t._v("Close")])]}}]),model:{value:t.snack,callback:function(a){t.snack=a},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)},o=[],n=(e("d3b7"),e("9f0f")),s={name:"Index",components:{UploadImages:n["a"]},data:function(){return{loading:!1,dialog:!1,snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},pagination:{},headers:[{text:"#",align:"start",sortable:!1,value:"media_id"},{text:"Зображення",value:"img",sortable:!1},{text:"Ім'я",value:"name"},{text:"Ключові слова",value:"keywords"},{text:"Опис",value:"description"},{text:"Розмір (Kb)",value:"size"},{text:"Розширення",value:"extension"},{text:"Видимість",value:"visibility"},{text:"Action",value:"actions"}],totalItems:0,items:[],options:{},editDialog:!1,editData:{}}},watch:{options:{handler:function(){var t=this;this.getDataFromApi().then((function(a){t.items=a.items,t.totalItems=a.total}))},deep:!0}},methods:{editItem:function(t){console.log(t),this.editData=t,this.editDialog=!0},getDataFromApi:function(){var t=this;return this.loading=!0,new Promise((function(a){var e=t.options,i=e.sortBy,o=e.sortDesc,n=e.page,s=e.itemsPerPage,r={url:t.$store.state.api.media.index,params:{page:n,limit:s,sortBy:i,sortDesc:o}};t.$store.dispatch("getApiContent",r).then((function(){var e=t.$store.state.apiLoadedData.data,i=t.$store.state.apiLoadedData.meta.total;a({items:e,total:i})})).finally((function(){t.loading=!1}))}))},action:function(){},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")}}},r=s,l=e("2877"),c=e("6544"),d=e.n(c),v=e("c6a6"),u=e("8336"),m=e("b0af"),f=e("99d9"),p=e("62ad"),g=e("a523"),b=e("8fea"),h=e("169a"),k=e("ce7e"),x=e("132d"),_=e("adda"),y=e("e449"),D=e("490a"),w=e("0fd9"),C=e("b974"),V=e("2db4"),I=e("2fa4"),T=e("8654"),S=e("71d9"),P=e("2a7f"),A=Object(l["a"])(r,i,o,!1,null,"f763102e",null);a["default"]=A.exports;d()(A,{VAutocomplete:v["a"],VBtn:u["a"],VCard:m["a"],VCardText:f["b"],VCol:p["a"],VContainer:g["a"],VDataTable:b["a"],VDialog:h["a"],VDivider:k["a"],VIcon:x["a"],VImg:_["a"],VMenu:y["a"],VProgressCircular:D["a"],VRow:w["a"],VSelect:C["a"],VSnackbar:V["a"],VSpacer:I["a"],VTextField:T["a"],VToolbar:S["a"],VToolbarTitle:P["b"]})}}]);